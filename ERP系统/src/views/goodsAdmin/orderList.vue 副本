<template>
	<div>
		
		<Card>
			<h1 slot="title">列表</h1>
			<div style="padding:15px;">
				<!--
					属性：
						columns-list 表头数据
						table-data 表格数据
						city-list 下拉选择数据
				-->
				<table-module 
					:columns-list="columns"
					:table-data="tabData"
					:city-list="cityList"
				>
				</table-module>
			</div>
			
			<div style="margin-top:20px;">
				<Button type="primary" @click="merge">合并对账</Button>
			</div>
		</Card>
		
	</div>
</template>

<script>
	import tableModule from '@/components/table-module.vue';
	
	export default {
		components:{//模板
			tableModule
		},
        data () {
            return {
            	columns:[//表头数据
	            	{
		                title: '序号',
		                align: 'center',
		                width: 60,
		                sequenceNum: true,//添加序号
		            },
	            	{
	                    type: 'selection',//添加多选
	                    width: 60,
	                    align: 'center'
	                },
	                {
	                    title: '编号',
	                    key: 'name',
	                    editable: true//加上这个字段表示可以编辑的
	                },
	                {
	                    title: '数量',
	                    key: 'quantity',
	                    editable: true//加上这个字段表示可以编辑的
	                },
	                {
	                    title: '单价',
	                    key: 'price',
	                    editable: true//加上这个字段表示可以编辑的
	                },
	                {
	                    title: '应收货款',
	                    key: 'receivable',
	                    calculate:{//表示这列里有计算的功能(传入两个要计算列的key值)
	                    	x:'quantity',
	                    	y:'price'
	                    },
	                },
	                {
	                    title: '日期',
	                    key: 'date',
	                    editableDate:true,//可编辑日期
	                },
	                {
	                    title: '名称',
	                    key: 'address',
	                    editable: true//加上这个字段表示可以编辑的
	                },
	                {
				        title: '操作',
				        align: 'center',
				        width: 130,
				        handle: ['edit', 'delete']//数组里表示的是按钮类型
				    }
            	],
            	
            	
            	tabData:[//表格数据
					{
						id:1,
			            name: '001',
			            date: '2018-10-03',
			            quantity:'200件',
			            price:10.5,
			            receivable:'2100元',
			            address: '生态门铝材生态门配件铝封边装饰条各种铝型材',
			            state:'已下单',
			       	},
					{
						id:2,
			            name: '002',
			            date: '2017-10-03',
			            quantity:'200件',
			            price:10.5,
			            address: '生态门铝材生态门配件铝封边装饰条各种铝型材',
			            state:'审批通过',
			       	},
					{
						id:3,
			            name: '003',
			            date: '2016-10-03',
			            quantity:'200件',
			            price:10.5,
			            address: '生态门铝材生态门配件铝封边装饰条各种铝型材',
			       	},
					{
						id:4,
			            name: '004',
			            date: '2016-10-03',
			            quantity:'200件',
			            price:10.5,
			            address: '生态门铝材生态门配件铝封边装饰条各种铝型材',
			       	},
					{
						id:5,
			            name: '005',
			            date: '2016-10-03',
			            quantity:'200件',
			            price:10.5,
			            address: '生态门铝材生态门配件铝封边装饰条各种铝型材',
			       	},
					{
						id:6,
			            name: '006',
			            date: '2016-10-03',
			            quantity:'200件',
			            price:10.5,
			            address: '生态门铝材生态门配件铝封边装饰条各种铝型材',
			       	},
					{
						id:7,
			            name: '007',
			            date: '2016-10-03',
			            quantity:'200件',
			            price:10.5,
			            address: '生态门铝材生态门配件铝封边装饰条各种铝型材',
			       	},
					{
						id:8,
			            name: '008',
			            date: '2016-10-03',
			            quantity:'200件',
			            price:10.5,
			            address: '生态门铝材生态门配件铝封边装饰条各种铝型材',
			       	},
					{
						id:9,
			            name: '009',
			            date: '2016-10-03',
			            quantity:'200件',
			            price:10.5,
			            address: '生态门铝材生态门配件铝封边装饰条各种铝型材',
			       	},
					{
						id:10,
			            name: '0010',
			            date: '2016-10-03',
			            quantity:'200件',
			            price:10.5,
			            address: '生态门铝材生态门配件铝封边装饰条各种铝型材',
			       	},
					{
						id:11,
			            name: '0011',
			            date: '2016-10-03',
			            quantity:'200件',
			            price:10.5,
			            address: '生态门铝材生态门配件铝封边装饰条各种铝型材',
			       	},
					{
						id:12,
			            name: '0012',
			            date: '2016-10-03',
			            quantity:'200件',
			            price:10.5,
			            address: '生态门铝材生态门配件铝封边装饰条各种铝型材',
			       	},
					{
						id:13,
			            name: '0013',
			            date: '2016-10-03',
			            quantity:'200件',
			            price:10.5,
			            address: '生态门铝材生态门配件铝封边装饰条各种铝型材',
			       	},
					{
						id:14,
			            name: '0014',
			            date: '2016-10-03',
			            quantity:'200件',
			            price:10.5,
			            address: '生态门铝材生态门配件铝封边装饰条各种铝型材',
			       	},
					{
						id:15,
			            name: '0015',
			            date: '2018-10-03',
			            quantity:'200件',
			            price:10.5,
			            address: '生态门铝材生态门配件铝封边装饰条各种铝型材',
			       	},
			    ],
            	
            	
                cityList: [//下拉选择数据
                    {//第一个为默认值
                        value: '全部订单',
                        label: '全部订单',
                    },
                    {
                        value: '已下单',
                        label: '已下单'
                    },
                    {
                        value: '审批通过',
                        label: '审批通过'
                    },
                    {
                        value: '采购中',
                        label: '采购中'
                    },
                    {
                        value: '采购完毕',
                        label: '采购完毕'
                    },
                    {
                        value: '生产完毕',
                        label: '生产完毕'
                    }
                ],
                
            }
        },
        computed:{
        	
        },
        methods: {
        	merge(){
        		console.log(this.tabData);
        	},
        	dataList(){
        		this.$axios.post('system/pageDataList', {
	        		page:1,
	        		pagesize:10,
				})
				.then((response) => {
					console.log(response.data);
				})
				.catch(error => {
					console.log(error);
				});
        	}
        	
        },
        created(){
        	
        },
        mounted(){
        	this.dataList();
        },
        watch:{
    		
    	}
    }
</script>

<style>
</style>